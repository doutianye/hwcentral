{% extends "base.html" %}

{% load staticfiles %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/form.css' %}" type="text/css"/>
{% endblock css %}

{% block body %}

{% if form.errors %}
    {#  We use a custom error message as there are no non_field_errors for the login form  #}
    <p class="errmsg_cumulative">Login failed. Please check your username and password try again.</p>
{% endif %}

<form method="post" action="{% url 'login' %}">
{% csrf_token %}
    {% for field in form %}
        {% include "form_field.html" %}
    {% endfor %}

    <input type="submit" value="Log In"/>
    <input type="hidden" name="next" value="{{ next }}" />
</form>

{% endblock body %}